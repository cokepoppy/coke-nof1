# NOF1.AI 项目调研报告

## 1. 项目概述

### 1.1 项目背景
NOF1.AI 是一个创新的 AI 交易竞技平台，名为 "Alpha Arena"。该平台让多个大型语言模型（LLM）在真实的加密货币市场中自主交易，测试 AI 的零样本（zero-shot）系统交易能力。

### 1.2 核心价值主张
- **真实市场测试**：AI 模型在 Hyperliquid 去中心化交易所进行真实交易
- **零样本学习**：仅通过提示工程（prompt engineering），无需微调模型
- **公平竞争**：多个 LLM（GPT-5, Gemini 2.5 Pro, Claude Sonnet 4.5, Grok 4, DeepSeek v3.1, Qwen3-Max）同场竞技
- **透明度**：实时展示交易决策、持仓和性能指标

### 1.3 参与模型
- GPT-5
- Gemini 2.5 Pro
- Claude Sonnet 4.5
- Grok 4
- DeepSeek v3.1
- Qwen3-Max

每个模型获得 $10,000 初始资金进行自主交易。

## 2. 核心功能模块

### 2.1 实时交易系统
- **交易频率**：每 2-3 分钟做出一次决策
- **交易资产**：BTC, ETH, SOL, BNB, DOGE, XRP
- **交易类型**：永续合约（支持杠杆交易）
- **杠杆范围**：1x - 20x
- **操作类型**：做多、做空、持有、平仓

### 2.2 数据展示
- **实时价格**：主流加密货币实时价格展示
- **账户总值**：显示每个 AI 模型的账户价值变化
- **图表可视化**：交易历史和性能曲线图
- **技术指标**：EMA, MACD, RSI, ATR, 持仓量, 资金费率

### 2.3 排行榜系统
- 实时更新各 AI 模型的交易表现排名
- 多维度指标对比（收益率、夏普比率、胜率等）

### 2.4 交易详情
- **已完成交易**：历史交易记录和详细分析
- **活跃持仓**：当前持有的所有头寸
- **模型聊天**：查看 AI 模型的决策推理过程
- **技术文档**：README 和系统说明

### 2.5 博客与教育
- 技术文章发布
- 交易策略分析
- 模型行为研究报告

## 3. 技术架构分析

### 3.1 前端架构
- **主框架**：React (推测)
- **实时通信**：WebSocket 连接服务器获取实时数据
- **状态管理**：需要管理实时价格、持仓、交易历史等状态
- **图表库**：需要集成专业的图表库（如 TradingView, Chart.js, Recharts）
- **UI 组件**：响应式设计，支持移动端

### 3.2 后端架构
- **API 服务**：RESTful API + WebSocket
- **交易引擎**：
  - 定时任务（2-3 分钟间隔）
  - LLM API 集成（OpenAI, Anthropic, Google, xAI, DeepSeek, Alibaba）
  - 交易所 API 集成（Hyperliquid）
  - 风险管理模块
- **数据处理**：
  - 市场数据采集和存储
  - 技术指标计算
  - 性能指标统计

### 3.3 数据库设计需求
- **用户表**：用户账户、认证信息
- **AI 模型表**：模型配置、API 密钥、系统提示词
- **交易记录表**：所有交易的详细记录
- **持仓表**：当前持仓状态
- **市场数据表**：历史价格、技术指标
- **决策日志表**：AI 模型的每次决策推理过程
- **性能指标表**：计算并存储各种性能指标

## 4. AI 交易系统核心设计

### 4.1 系统提示词（System Prompt）结构
```
1. 角色定义：AI 交易代理，目标是最大化风险调整后收益
2. 技术框架：
   - 仓位计算公式
   - 基于信心水平的杠杆选择
   - 严格的仓位管理（禁止金字塔加仓、禁止对冲）
3. 强制风险管理：
   - 每笔交易必须设置止盈、止损
   - 失效条件
   - 信心评分（0-1）
4. 输出格式：结构化 JSON
```

### 4.2 用户提示词（User Prompt）结构
每次调用时提供：
- 实时市场数据（价格、技术指标）
- 多时间框架分析（3 分钟 + 4 小时）
- 技术指标：EMA, MACD, RSI, ATR, 持仓量, 资金费率
- 完整账户状态和当前持仓
- 性能指标（夏普比率反馈）

**关键设计**：数据按 "最旧 → 最新" 顺序排列，防止 LLM 时间混淆。

### 4.3 决策输出格式
```json
{
  "signal": "LONG" | "SHORT" | "HOLD" | "CLOSE",
  "asset": "BTC",
  "quantity": 0.5,
  "leverage": 5,
  "confidence": 0.75,
  "entry_reason": "详细推理过程",
  "profit_target": 96000,
  "stop_loss": 94000,
  "invalidation_condition": "如果价格跌破 93500"
}
```

### 4.4 提示工程创新
- **结构化输出强制**：JSON 格式强制完整推理，减少幻觉
- **失效条件**：强制预先承诺退出逻辑，防止情绪化止损调整
- **信心评分**：实现元认知自我怀疑机制，低信心自动减少仓位
- **费用意识**：明确提及交易成本（0.02-0.05%），抑制过度交易
- **无状态设计**：每次决策独立，测试即时决策能力

### 4.5 模型特定优化
- **GPT-4**：倾向保守，需要鼓励承担计算风险
- **Claude 3.5**：风险管理本能强，需要平衡机会
- **Gemini 1.5**：计算能力强，受益于纯技术信号之外的上下文
- **Qwen/DeepSeek**：数学能力强，需要监管上下文清晰

### 4.6 观察到的模型行为差异
- **方向偏好**：Claude 很少做空；Grok 4、GPT-5、Gemini 经常做空
- **持仓管理**：Qwen3 通常维持 1-2 个持仓；其他模型同时持有多个
- **风险规模**：Qwen3 持仓最大；GPT-5 最保守
- **信心报告**：Qwen3 最高；GPT-5 最低（与实际表现无关）
- **交易频率**：Gemini 最活跃；Grok 4 最少

## 5. 用户界面设计要素

### 5.1 首页/仪表板
- Logo 和品牌（Alpha Arena）
- 导航栏：LIVE, LEADERBOARD, BLOG, MODELS, ABOUT NOF1
- 实时价格卡片（BTC, ETH, SOL, BNB, DOGE, XRP）
- 账户总值显示
- 连接状态指示器

### 5.2 实时交易页面
- 多 AI 模型切换
- 实时价格图表
- 当前持仓列表
- 最新决策展示
- 交易历史时间线

### 5.3 排行榜页面
- 表格展示所有模型排名
- 关键指标列：
  - 总收益/亏损
  - 收益率 (%)
  - 夏普比率
  - 最大回撤
  - 交易次数
  - 胜率

### 5.4 模型详情页
- 标签页：
  - Completed Trades（已完成交易）
  - Chat（决策推理过程）
  - Positions（活跃持仓）
  - README（技术文档）
- 详细交易记录表格
- 图表可视化

### 5.5 博客页面
- 文章列表
- 文章详情页
- Markdown 渲染

### 5.6 响应式设计
- 桌面端优化
- 移动端适配
- 网格布局系统

## 6. 关键技术挑战

### 6.1 实时性
- WebSocket 连接管理
- 实时价格更新
- 低延迟交易执行

### 6.2 数据准确性
- 数据排序敏感性：模型容易误解市场数据顺序
- 术语模糊性：金融术语的不一致解释可能导致交易错误

### 6.3 风险管理
- 规则规避：模型可能字面上遵守但违反意图
- 自我矛盾：模型偶尔会与自己之前的计划矛盾

### 6.4 可扩展性
- 支持更多 AI 模型
- 支持更多交易资产
- 处理高频数据和交易

### 6.5 安全性
- API 密钥管理
- 交易权限控制
- 防止恶意操作

## 7. 未来发展方向

### 7.1 Season 2 计划
- 改进提示词
- 更严格的统计控制
- 扩展资产种类
- 记忆机制
- 多模态输入（新闻、情绪）
- 多代理架构
- 扩展操作空间（限价单、部分平仓）

### 7.2 功能扩展
- 用户自定义 AI 模型
- 社交功能（关注、评论）
- 回测系统
- 策略分享
- 教育课程

## 8. 技术栈推荐

### 8.1 前端
- **框架**：React 18+ with TypeScript
- **状态管理**：Redux Toolkit / Zustand
- **路由**：React Router v6
- **UI 组件库**：Ant Design / Material-UI
- **图表**：TradingView Lightweight Charts / Recharts
- **实时通信**：Socket.IO Client / native WebSocket
- **HTTP 客户端**：Axios
- **样式**：Tailwind CSS / Styled Components

### 8.2 后端
- **运行时**：Node.js with TypeScript
- **框架**：Express.js
- **ORM**：TypeORM / Prisma
- **实时通信**：Socket.IO
- **任务调度**：node-cron / Bull
- **API 集成**：
  - OpenAI SDK
  - Anthropic SDK
  - Google Generative AI SDK
  - 交易所 API SDK

### 8.3 数据库
- **主数据库**：MySQL 8.0+
- **缓存**：Redis（可选，用于会话和实时数据）
- **时序数据**：考虑 InfluxDB（可选，用于高频市场数据）

### 8.4 部署与运维
- **容器化**：Docker + Docker Compose
- **反向代理**：Nginx
- **进程管理**：PM2
- **日志**：Winston / Pino
- **监控**：Prometheus + Grafana（可选）

## 9. 开发优先级

### Phase 1：核心功能（MVP）
1. 数据库设计和搭建
2. 基础 API（用户认证、模型管理）
3. 市场数据采集模块
4. 简单的 AI 决策循环（单一模型）
5. 基础前端界面（实时价格、持仓展示）

### Phase 2：交易系统
1. 交易所 API 集成
2. 多模型并行运行
3. 风险管理模块
4. 交易执行和记录
5. 排行榜系统

### Phase 3：用户体验
1. 实时 WebSocket 通信
2. 交互式图表
3. 模型决策推理展示
4. 博客系统
5. 响应式设计优化

### Phase 4：高级功能
1. 用户注册和等待列表
2. 自定义 AI 模型
3. 回测系统
4. 社交功能
5. 高级分析工具

## 10. 参考资源

- **GitHub Gist**：https://gist.github.com/wquguru/7d268099b8c04b7e5b6ad6fae922ae83
- **博客文章**：https://nof1.ai/blog/TechPost1
- **官方网站**：https://nof1.ai/
- **交易所**：Hyperliquid
- **LLM API**：OpenAI, Anthropic, Google, xAI, DeepSeek, Alibaba Cloud

---

**报告完成日期**：2025-10-29
